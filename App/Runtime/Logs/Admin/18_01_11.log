[ 2018-01-11T17:55:19+08:00 ] ::1 /cloud/index.php/Admin/login/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000326s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000598s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000651s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000056s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000111s ]
NOTIC: [8] Undefined variable: current D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\f0f0edaa955fd2857dedea53d1ab9ca3.php 第 7 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.007564s ]
INFO: [ view_parse ] --END-- [ RunTime:0.007633s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000439s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000477s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000565s ]
INFO: [ app_end ] --END-- [ RunTime:0.000603s ]

[ 2018-01-11T17:55:19+08:00 ] ::1 /cloud/index.php/Admin/login/verify.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000348s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000470s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000509s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000689s ]
INFO: [ app_end ] --END-- [ RunTime:0.000760s ]

[ 2018-01-11T17:55:25+08:00 ] ::1 /cloud/index.php/Admin/login/login.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000025s ]
INFO: [ app_init ] --END-- [ RunTime:0.000509s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000498s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000541s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0249s ]
SQL: SELECT `uid`,`user`,`org_id`,`h_id` FROM `cloud_member` WHERE `user` = 'admin' AND `password` = '66d6a1c8748025462128dc75bf5ae8d1' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\LoginController.class.php 第 51 行.
SQL: SHOW COLUMNS FROM `cloud_log` [ RunTime:0.0069s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Common\function.php 第 12 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0019s ]
SQL: SELECT `user` FROM `cloud_member` WHERE `uid` = 1 LIMIT 1   [ RunTime:0.0003s ]
SQL: INSERT INTO `cloud_log` (`name`,`t`,`ip`,`log`) VALUES ('admin','1515664525','::1','登录成功。') [ RunTime:0.0002s ]

[ 2018-01-11T17:55:25+08:00 ] ::1 /cloud/index.php/Admin/index/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000018s ]
INFO: [ app_init ] --END-- [ RunTime:0.000457s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000629s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000678s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0026s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 1 LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=1 [ RunTime:0.0279s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0023s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 1 LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=1 [ RunTime:0.0004s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/index' [ RunTime:0.0023s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0020s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,2,3,4,5,7,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,58,68,69,70,97,98,99,101,102,103,104,105,108)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
SQL: SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 0 Group by menu_id ORDER BY nums DESC [ RunTime:0.0068s ]
SQL: SELECT SUM(nums) nums FROM(SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 0 Group by menu_id ORDER BY nums DESC LIMIT 5,0) AS A [ RunTime:0.0009s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::getTotalByMonthByOrg(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 20 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 71 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 72 行.
SQL: SELECT IFNULL(h_name,'合计') AS h_name,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total
      FROM(
          SELECT h_name,IFNULL(year,'total') AS year,SUM(count) AS count
          FROM(
            SELECT h_name,FROM_UNIXTIME(order_time,'%Y%m')as year,SUM(o.total_money) count
            FROM cloud_order o
            JOIN cloud_hotel h ON h.id = o.h_id
            WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
            GROUP BY h_name,year
            ) AS A
          GROUP BY h_name,year
          WITH ROLLUP
          HAVING h_name IS NOT NULL
            )AS B
      GROUP BY h_name
      WITH ROLLUP [ RunTime:0.0192s ]
SQL: SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 0 Group by menu_id ORDER BY nums DESC LIMIT 100 [ RunTime:0.0005s ]
SQL: SELECT SUM(total_money) AS money, h.org_id,h.h_name FROM cloud_hotel h INNER JOIN cloud_order o ON o.h_id = h.id  WHERE h.org_id = 0 GROUP BY o.h_id ORDER BY money DESC LIMIT 1 [ RunTime:0.0003s ]
SQL: SELECT COUNT(s.id) AS nums, o.org_id, o.h_id, s.* ,m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 0 Group by menu_id ORDER BY nums ASC LIMIT 1 [ RunTime:0.0004s ]
SQL: SELECT SUM(total_money) AS money, h.org_id,h.h_name FROM cloud_hotel h INNER JOIN cloud_order o ON o.h_id = h.id  WHERE h.org_id = 0 GROUP BY o.h_id ORDER BY money ASC LIMIT 1 [ RunTime:0.0002s ]
NOTIC: [2048] Declaration of Admin\Model\OrgModel::save() should be compatible with Think\Model::save($data = '', $options = Array) D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 79 行.
NOTIC: [2048] Declaration of Admin\Model\OrgModel::delete() should be compatible with Think\Model::delete($options = Array) D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 79 行.
SQL: SHOW COLUMNS FROM `cloud_org` [ RunTime:0.0248s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0038s ]
SQL: SELECT * FROM `cloud_hotel` WHERE ( org_id=0 )  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_group_access` [ RunTime:0.0019s ]
SQL: SELECT * FROM `cloud_auth_group_access` WHERE ( uid = 1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined variable: data D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 55 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000121s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000162s ]
NOTIC: [8] Undefined variable: mysql D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\f2e2f05010f1886c29d5afc0de6be789.php 第 414 行.
NOTIC: [8] Undefined variable: list D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\f2e2f05010f1886c29d5afc0de6be789.php 第 507 行.
NOTIC: [8] Undefined variable: page D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\f2e2f05010f1886c29d5afc0de6be789.php 第 516 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.053959s ]
INFO: [ view_parse ] --END-- [ RunTime:0.053995s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000361s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000396s ]

[ 2018-01-11T17:55:31+08:00 ] ::1 /cloud/index.php/Admin/logout/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000026s ]
INFO: [ app_init ] --END-- [ RunTime:0.000739s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000484s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000549s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0024s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 1 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=1 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0019s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 1 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=1 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Logout/index' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0018s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,2,3,4,5,7,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,58,68,69,70,97,98,99,101,102,103,104,105,108)  ) ORDER BY o ASC  [ RunTime:0.0004s ]

[ 2018-01-11T17:55:31+08:00 ] ::1 /cloud/index.php/Admin/login/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000267s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000337s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000370s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000074s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000157s ]
NOTIC: [8] Undefined variable: current D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\f0f0edaa955fd2857dedea53d1ab9ca3.php 第 7 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.006230s ]
INFO: [ view_parse ] --END-- [ RunTime:0.006272s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000391s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000426s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000531s ]
INFO: [ app_end ] --END-- [ RunTime:0.000567s ]

[ 2018-01-11T17:55:31+08:00 ] ::1 /cloud/index.php/Admin/login/verify.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000023s ]
INFO: [ app_init ] --END-- [ RunTime:0.000589s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000439s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000492s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000546s ]
INFO: [ app_end ] --END-- [ RunTime:0.000605s ]

[ 2018-01-11T17:55:44+08:00 ] ::1 /cloud/index.php/Admin/login/login.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000283s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000395s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000463s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0112s ]
SQL: SELECT `uid`,`user`,`org_id`,`h_id` FROM `cloud_member` WHERE `user` = 'ceshi' AND `password` = '36868f2f58d2ab890d352ace75b8184b' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\LoginController.class.php 第 51 行.
SQL: SHOW COLUMNS FROM `cloud_log` [ RunTime:0.0307s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Common\function.php 第 12 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0172s ]
SQL: SELECT `user` FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: INSERT INTO `cloud_log` (`name`,`t`,`ip`,`log`) VALUES ('ceshi','1515664544','::1','登录成功。') [ RunTime:0.0002s ]

[ 2018-01-11T17:55:44+08:00 ] ::1 /cloud/index.php/Admin/index/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000280s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000330s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000366s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0024s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0020s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/index' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0019s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
SQL: SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums DESC [ RunTime:0.0018s ]
SQL: SELECT SUM(nums) nums FROM(SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums DESC LIMIT 5,30) AS A [ RunTime:0.0010s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::getTotalByMonthByOrg(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 20 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 71 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 72 行.
SQL: SELECT IFNULL(h_name,'合计') AS h_name,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total
      FROM(
          SELECT h_name,IFNULL(year,'total') AS year,SUM(count) AS count
          FROM(
            SELECT h_name,FROM_UNIXTIME(order_time,'%Y%m')as year,SUM(o.total_money) count
            FROM cloud_order o
            JOIN cloud_hotel h ON h.id = o.h_id
            WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
            GROUP BY h_name,year
            ) AS A
          GROUP BY h_name,year
          WITH ROLLUP
          HAVING h_name IS NOT NULL
            )AS B
      GROUP BY h_name
      WITH ROLLUP [ RunTime:0.0004s ]
SQL: SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums DESC LIMIT 100 [ RunTime:0.0009s ]
SQL: SELECT SUM(total_money) AS money, h.org_id,h.h_name FROM cloud_hotel h INNER JOIN cloud_order o ON o.h_id = h.id  WHERE h.org_id = 2 GROUP BY o.h_id ORDER BY money DESC LIMIT 1 [ RunTime:0.0003s ]
SQL: SELECT COUNT(s.id) AS nums, o.org_id, o.h_id, s.* ,m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums ASC LIMIT 1 [ RunTime:0.0008s ]
SQL: SELECT SUM(total_money) AS money, h.org_id,h.h_name FROM cloud_hotel h INNER JOIN cloud_order o ON o.h_id = h.id  WHERE h.org_id = 2 GROUP BY o.h_id ORDER BY money ASC LIMIT 1 [ RunTime:0.0003s ]
NOTIC: [2048] Declaration of Admin\Model\OrgModel::save() should be compatible with Think\Model::save($data = '', $options = Array) D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 79 行.
NOTIC: [2048] Declaration of Admin\Model\OrgModel::delete() should be compatible with Think\Model::delete($options = Array) D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 79 行.
SQL: SHOW COLUMNS FROM `cloud_org` [ RunTime:0.0023s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0019s ]
SQL: SELECT * FROM `cloud_hotel` WHERE ( org_id=2 )  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_group_access` [ RunTime:0.0018s ]
SQL: SELECT * FROM `cloud_auth_group_access` WHERE ( uid = 4 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: group_id  D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 65 行.
NOTIC: [8] Undefined index: h_id D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 65 行.
NOTIC: [8] Undefined variable: data D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 66 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000136s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000176s ]
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 430 行.
NOTIC: [8] Use of undefined constant h_name - assumed 'h_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 438 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 560 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 561 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 562 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 563 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 564 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 565 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 572 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 573 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 574 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 575 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 576 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 577 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 578 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.028584s ]
INFO: [ view_parse ] --END-- [ RunTime:0.028642s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000365s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000393s ]

[ 2018-01-11T17:55:50+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000362s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000526s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000563s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0027s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0037s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0027s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0020s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 333 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0006s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000117s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000160s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 466 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 466 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 466 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 466 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 466 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 478 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 478 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 478 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 478 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 478 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 494 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 494 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 494 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 494 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 494 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017550s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017582s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000414s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000451s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001002s ]
INFO: [ app_end ] --END-- [ RunTime:0.001062s ]

[ 2018-01-11T17:57:14+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000346s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000581s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000623s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0046s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0026s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0025s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0021s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 333 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0006s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000134s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000184s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.016215s ]
INFO: [ view_parse ] --END-- [ RunTime:0.016272s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000828s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000878s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000729s ]
INFO: [ app_end ] --END-- [ RunTime:0.000782s ]

[ 2018-01-11T17:58:23+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000345s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000419s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000458s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0038s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0043s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0021s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0020s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 333 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0007s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000174s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000265s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 556 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 556 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 556 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 556 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 556 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 568 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 568 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 568 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 568 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 568 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 584 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 584 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 584 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 584 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 584 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017442s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017475s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000318s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000350s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000468s ]
INFO: [ app_end ] --END-- [ RunTime:0.000501s ]

[ 2018-01-11T17:58:34+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000030s ]
INFO: [ app_init ] --END-- [ RunTime:0.000535s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000695s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000767s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0031s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0035s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0051s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0005s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0022s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 333 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0007s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000233s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000320s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 556 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 556 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 556 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 556 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 556 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 568 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 568 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 568 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 568 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 568 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 584 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 584 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 584 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 584 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 584 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.016165s ]
INFO: [ view_parse ] --END-- [ RunTime:0.016199s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000389s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000417s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000538s ]
INFO: [ app_end ] --END-- [ RunTime:0.000570s ]

[ 2018-01-11T17:59:16+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000313s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000365s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000404s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0024s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0020s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0021s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0027s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 333 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0016s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000125s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000172s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017684s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017720s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000288s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000316s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000484s ]
INFO: [ app_end ] --END-- [ RunTime:0.000516s ]

[ 2018-01-11T17:59:44+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000316s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000525s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000566s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0026s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0061s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0021s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0022s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 333 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0007s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000119s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000163s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017130s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017188s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.002163s ]
INFO: [ view_filter ] --END-- [ RunTime:0.002202s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000620s ]
INFO: [ app_end ] --END-- [ RunTime:0.000659s ]

[ 2018-01-11T18:00:09+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000303s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000406s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000441s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0025s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0046s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0010s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0023s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0019s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 333 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0007s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000119s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000167s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014810s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014846s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000368s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000401s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000486s ]
INFO: [ app_end ] --END-- [ RunTime:0.000522s ]

[ 2018-01-11T18:15:10+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000315s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000529s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000564s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0037s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0007s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0044s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0022s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0026s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 333 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0008s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000117s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000158s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.020129s ]
INFO: [ view_parse ] --END-- [ RunTime:0.020166s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000412s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000443s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000542s ]
INFO: [ app_end ] --END-- [ RunTime:0.000576s ]

[ 2018-01-11T18:19:59+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000019s ]
INFO: [ app_init ] --END-- [ RunTime:0.000552s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002089s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002136s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0032s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0029s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0004s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0028s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0022s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 333 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0007s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000132s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000182s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 467 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 479 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 495 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 557 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 569 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 585 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.019684s ]
INFO: [ view_parse ] --END-- [ RunTime:0.019743s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000744s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000804s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002342s ]
INFO: [ app_end ] --END-- [ RunTime:0.002405s ]

[ 2018-01-11T18:31:01+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000416s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000519s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000572s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0073s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0025s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0039s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0044s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 333 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0008s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000154s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000232s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 468 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 468 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 468 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 468 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 468 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 480 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 480 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 480 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 480 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 480 行.
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 496 行.
NOTIC: [8] Undefined offset: 1 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 496 行.
NOTIC: [8] Undefined offset: 2 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 496 行.
NOTIC: [8] Undefined offset: 3 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 496 行.
NOTIC: [8] Undefined offset: 4 D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\cd5c2188d196fb21777559f567f99136.php 第 496 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.015814s ]
INFO: [ view_parse ] --END-- [ RunTime:0.015866s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000382s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000412s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000535s ]
INFO: [ app_end ] --END-- [ RunTime:0.000570s ]

[ 2018-01-11T18:37:48+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000039s ]
INFO: [ app_init ] --END-- [ RunTime:0.000544s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000667s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000752s ]
NOTIC: [2048] Declaration of Admin\Controller\IndexController::display() should be compatible with Think\Controller::display($templateFile = '', $charset = '', $contentType = '', $content = '', $prefix = '') D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 15 行.
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0024s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0035s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0025s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0024s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0027s ]
ERR: Think\Model:ajaxReturn方法不存在！

[ 2018-01-11T18:38:06+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000343s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000360s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000398s ]
NOTIC: [2048] Declaration of Admin\Controller\IndexController::display() should be compatible with Think\Controller::display($templateFile = '', $charset = '', $contentType = '', $content = '', $prefix = '') D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 15 行.
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0029s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0056s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0021s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0023s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0028s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
NOTIC: [8] Undefined index: h_id D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 156 行.
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 158 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 158 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
ERR: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON c' at line 8

[ 2018-01-11T18:39:36+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000363s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000392s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000429s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0024s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0019s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0043s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0007s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0024s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0031s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000107s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000145s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.016750s ]
INFO: [ view_parse ] --END-- [ RunTime:0.016789s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000345s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000372s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000766s ]
INFO: [ app_end ] --END-- [ RunTime:0.000816s ]

[ 2018-01-11T18:41:05+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000399s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000433s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000470s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0025s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0021s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0007s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0022s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0007s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0216s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0028s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000111s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000152s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017452s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017516s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000360s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000389s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000491s ]
INFO: [ app_end ] --END-- [ RunTime:0.000526s ]

[ 2018-01-11T18:41:39+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000029s ]
INFO: [ app_init ] --END-- [ RunTime:0.000599s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000355s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000405s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0023s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0042s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0024s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0028s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0043s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000110s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000150s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.016625s ]
INFO: [ view_parse ] --END-- [ RunTime:0.016710s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000340s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000369s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000479s ]
INFO: [ app_end ] --END-- [ RunTime:0.000513s ]

[ 2018-01-11T18:42:30+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000283s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000375s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000416s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0048s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0157s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0041s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0021s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0025s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000127s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000221s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.015136s ]
INFO: [ view_parse ] --END-- [ RunTime:0.015180s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000357s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000386s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000503s ]
INFO: [ app_end ] --END-- [ RunTime:0.000537s ]

[ 2018-01-11T18:44:01+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000376s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000697s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000770s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0050s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0159s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0019s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0023s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0028s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000125s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000181s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017500s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017547s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000364s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000396s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000502s ]
INFO: [ app_end ] --END-- [ RunTime:0.000537s ]

[ 2018-01-11T18:44:04+08:00 ] ::1 /cloud/index.php/Admin/Index/diaplay
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000308s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000350s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000382s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0036s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0007s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0051s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/diaplay' [ RunTime:0.0003s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0021s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
ERR: 非法操作:diaplay

[ 2018-01-11T18:44:35+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000301s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000361s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000397s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0024s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0018s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0017s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0046s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0025s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000109s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000149s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.016607s ]
INFO: [ view_parse ] --END-- [ RunTime:0.016642s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000321s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000346s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000450s ]
INFO: [ app_end ] --END-- [ RunTime:0.000482s ]

[ 2018-01-11T18:44:37+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000299s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000378s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000417s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0025s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0024s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel1' [ RunTime:0.0002s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0024s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0040s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 164 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0025s ]

[ 2018-01-11T18:47:02+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000367s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000599s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000681s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0032s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0029s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0004s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0042s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0021s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0026s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000111s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000153s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017522s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017570s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000369s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000399s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000508s ]
INFO: [ app_end ] --END-- [ RunTime:0.000549s ]

[ 2018-01-11T18:48:15+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000298s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000364s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000404s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0030s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0024s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0043s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0021s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0025s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000127s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000206s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.016327s ]
INFO: [ view_parse ] --END-- [ RunTime:0.016373s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000341s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000370s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000482s ]
INFO: [ app_end ] --END-- [ RunTime:0.000516s ]

[ 2018-01-11T18:48:18+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000284s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000340s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000373s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0049s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0021s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel1' [ RunTime:0.0003s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0020s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0041s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 164 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0024s ]

[ 2018-01-11T18:48:26+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000314s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000371s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000407s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0028s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0030s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0005s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel1' [ RunTime:0.0005s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0023s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0020s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 164 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0045s ]

[ 2018-01-11T18:52:20+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000410s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000457s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000502s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0027s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0021s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0004s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0035s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0021s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0024s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000106s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000144s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.016202s ]
INFO: [ view_parse ] --END-- [ RunTime:0.016250s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000370s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000400s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000509s ]
INFO: [ app_end ] --END-- [ RunTime:0.000545s ]

[ 2018-01-11T18:52:36+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000338s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000394s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000434s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0045s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0021s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0022s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0023s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0045s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000112s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000155s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.015089s ]
INFO: [ view_parse ] --END-- [ RunTime:0.015150s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000402s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000439s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000540s ]
INFO: [ app_end ] --END-- [ RunTime:0.000579s ]

[ 2018-01-11T18:53:41+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000339s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000420s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000463s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0022s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0036s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0004s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0041s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0005s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0059s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0025s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000121s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000174s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014695s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014739s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000350s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000379s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000498s ]
INFO: [ app_end ] --END-- [ RunTime:0.000531s ]

[ 2018-01-11T18:53:43+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000280s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000552s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000608s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0023s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0021s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel1' [ RunTime:0.0003s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0019s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0021s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 164 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0024s ]

[ 2018-01-11T18:54:43+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000378s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000459s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000507s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0026s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0020s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel1' [ RunTime:0.0002s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0018s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0020s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 164 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0024s ]

[ 2018-01-11T18:54:52+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000024s ]
INFO: [ app_init ] --END-- [ RunTime:0.000711s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000444s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000483s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0030s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0025s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0007s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0004s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0029s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0025s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0025s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000123s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000178s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.016497s ]
INFO: [ view_parse ] --END-- [ RunTime:0.016545s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000401s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000431s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000824s ]
INFO: [ app_end ] --END-- [ RunTime:0.000897s ]

[ 2018-01-11T18:54:55+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000336s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000407s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000444s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0023s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0022s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel1' [ RunTime:0.0003s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0021s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0031s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 164 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0027s ]

[ 2018-01-11T18:55:57+08:00 ] ::1 /cloud/index.php/Admin/index/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000304s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000405s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000444s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0044s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0022s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0030s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/index' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0021s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
SQL: SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums DESC [ RunTime:0.0017s ]
SQL: SELECT SUM(nums) nums FROM(SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums DESC LIMIT 5,30) AS A [ RunTime:0.0009s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::getTotalByMonthByOrg(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 20 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 71 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 72 行.
SQL: SELECT IFNULL(h_name,'合计') AS h_name,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total
      FROM(
          SELECT h_name,IFNULL(year,'total') AS year,SUM(count) AS count
          FROM(
            SELECT h_name,FROM_UNIXTIME(order_time,'%Y%m')as year,SUM(o.total_money) count
            FROM cloud_order o
            JOIN cloud_hotel h ON h.id = o.h_id
            WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
            GROUP BY h_name,year
            ) AS A
          GROUP BY h_name,year
          WITH ROLLUP
          HAVING h_name IS NOT NULL
            )AS B
      GROUP BY h_name
      WITH ROLLUP [ RunTime:0.0005s ]
SQL: SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums DESC LIMIT 100 [ RunTime:0.0009s ]
SQL: SELECT SUM(total_money) AS money, h.org_id,h.h_name FROM cloud_hotel h INNER JOIN cloud_order o ON o.h_id = h.id  WHERE h.org_id = 2 GROUP BY o.h_id ORDER BY money DESC LIMIT 1 [ RunTime:0.0003s ]
SQL: SELECT COUNT(s.id) AS nums, o.org_id, o.h_id, s.* ,m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums ASC LIMIT 1 [ RunTime:0.0008s ]
SQL: SELECT SUM(total_money) AS money, h.org_id,h.h_name FROM cloud_hotel h INNER JOIN cloud_order o ON o.h_id = h.id  WHERE h.org_id = 2 GROUP BY o.h_id ORDER BY money ASC LIMIT 1 [ RunTime:0.0003s ]
NOTIC: [2048] Declaration of Admin\Model\OrgModel::save() should be compatible with Think\Model::save($data = '', $options = Array) D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 79 行.
NOTIC: [2048] Declaration of Admin\Model\OrgModel::delete() should be compatible with Think\Model::delete($options = Array) D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 79 行.
SQL: SHOW COLUMNS FROM `cloud_org` [ RunTime:0.0022s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0021s ]
SQL: SELECT * FROM `cloud_hotel` WHERE ( org_id=2 )  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_group_access` [ RunTime:0.0021s ]
SQL: SELECT * FROM `cloud_auth_group_access` WHERE ( uid = 4 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: group_id  D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 65 行.
NOTIC: [8] Undefined index: h_id D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 65 行.
NOTIC: [8] Undefined variable: data D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 66 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000135s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000177s ]
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 430 行.
NOTIC: [8] Use of undefined constant h_name - assumed 'h_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 438 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 560 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 561 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 562 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 563 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 564 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 565 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 572 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 573 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 574 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 575 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 576 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 577 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 578 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.022225s ]
INFO: [ view_parse ] --END-- [ RunTime:0.022266s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000399s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000427s ]

[ 2018-01-11T18:55:58+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000281s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000412s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000456s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0029s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0019s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0022s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0049s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0026s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000115s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000163s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014369s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014414s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000351s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000381s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000484s ]
INFO: [ app_end ] --END-- [ RunTime:0.000520s ]

[ 2018-01-11T18:56:03+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000336s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000700s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000754s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0030s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0020s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0026s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel1' [ RunTime:0.0003s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0019s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0024s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 164 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0030s ]

[ 2018-01-11T18:57:14+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000347s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000419s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000456s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0027s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0028s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0004s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0047s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0020s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0024s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000109s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000150s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.016531s ]
INFO: [ view_parse ] --END-- [ RunTime:0.016568s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000337s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000366s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000488s ]
INFO: [ app_end ] --END-- [ RunTime:0.000521s ]

[ 2018-01-11T18:57:17+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000298s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000382s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000421s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0022s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0028s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel1' [ RunTime:0.0002s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0021s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0034s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 164 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0025s ]

[ 2018-01-11T18:58:15+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000321s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000399s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000454s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0025s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0021s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0022s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0041s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0026s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000127s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000189s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.018407s ]
INFO: [ view_parse ] --END-- [ RunTime:0.018455s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000393s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000425s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000520s ]
INFO: [ app_end ] --END-- [ RunTime:0.000558s ]

[ 2018-01-11T18:58:19+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000337s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000358s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000390s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0028s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0037s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel1' [ RunTime:0.0003s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0044s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0022s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 164 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0172s ]

[ 2018-01-11T18:58:34+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000301s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000354s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000389s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0032s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0039s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0020s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0020s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0027s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000127s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000189s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017116s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017155s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000335s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000363s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000479s ]
INFO: [ app_end ] --END-- [ RunTime:0.000513s ]

[ 2018-01-11T18:58:38+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000301s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000344s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000379s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0023s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0021s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel1' [ RunTime:0.0002s ]
NOTIC: [8] Undefined offset: 0 D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 67 行.
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0035s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0008s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 157 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0023s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 164 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0024s ]

[ 2018-01-11T20:02:35+08:00 ] ::1 /cloud/index.php/Admin/login/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000022s ]
INFO: [ app_init ] --END-- [ RunTime:0.000483s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000605s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000695s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000052s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000100s ]
NOTIC: [8] Undefined variable: current D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\f0f0edaa955fd2857dedea53d1ab9ca3.php 第 7 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.006171s ]
INFO: [ view_parse ] --END-- [ RunTime:0.006224s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000327s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000354s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000479s ]
INFO: [ app_end ] --END-- [ RunTime:0.000513s ]

[ 2018-01-11T20:02:35+08:00 ] ::1 /cloud/index.php/Admin/login/verify.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000290s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000411s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000475s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000652s ]
INFO: [ app_end ] --END-- [ RunTime:0.000716s ]

[ 2018-01-11T20:02:43+08:00 ] ::1 /cloud/index.php/Admin/login/verify.html?1515672163695
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000335s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000465s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000518s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000539s ]
INFO: [ app_end ] --END-- [ RunTime:0.000584s ]

[ 2018-01-11T20:02:44+08:00 ] ::1 /cloud/index.php/Admin/login/verify.html?1515672164616
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000018s ]
INFO: [ app_init ] --END-- [ RunTime:0.000409s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000363s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000395s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000529s ]
INFO: [ app_end ] --END-- [ RunTime:0.000574s ]

[ 2018-01-11T20:02:48+08:00 ] ::1 /cloud/index.php/Admin/login/login.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000281s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000367s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000402s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0025s ]
SQL: SELECT `uid`,`user`,`org_id`,`h_id` FROM `cloud_member` WHERE `user` = 'ceshi' AND `password` = '36868f2f58d2ab890d352ace75b8184b' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\LoginController.class.php 第 51 行.
SQL: SHOW COLUMNS FROM `cloud_log` [ RunTime:0.0187s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Common\function.php 第 12 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0019s ]
SQL: SELECT `user` FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: INSERT INTO `cloud_log` (`name`,`t`,`ip`,`log`) VALUES ('ceshi','1515672168','::1','登录成功。') [ RunTime:0.0002s ]

[ 2018-01-11T20:02:48+08:00 ] ::1 /cloud/index.php/Admin/index/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000317s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000363s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000408s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0027s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0022s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0003s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/index' [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0022s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0004s ]
SQL: SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums DESC [ RunTime:0.0019s ]
SQL: SELECT SUM(nums) nums FROM(SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums DESC LIMIT 5,30) AS A [ RunTime:0.0010s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::getTotalByMonthByOrg(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 20 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 71 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 72 行.
SQL: SELECT IFNULL(h_name,'合计') AS h_name,
      SUM(IF(year='201801',count,0)) AS month01,
      SUM(IF(year='201802',count,0)) AS month02,
      SUM(IF(year='201803',count,0)) AS month03,
      SUM(IF(year='201804',count,0)) AS month04,
      SUM(IF(year='201805',count,0)) AS month05,
      SUM(IF(year='201806',count,0)) AS month06,
      SUM(IF(year='201807',count,0)) AS month07,
      SUM(IF(year='201808',count,0)) AS month08,
      SUM(IF(year='201809',count,0)) AS month09,
      SUM(IF(year='201810',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201812',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total
      FROM(
          SELECT h_name,IFNULL(year,'total') AS year,SUM(count) AS count
          FROM(
            SELECT h_name,FROM_UNIXTIME(order_time,'%Y%m')as year,SUM(o.total_money) count
            FROM cloud_order o
            JOIN cloud_hotel h ON h.id = o.h_id
            WHERE FROM_UNIXTIME(order_time,'%Y') = 2018
            GROUP BY h_name,year
            ) AS A
          GROUP BY h_name,year
          WITH ROLLUP
          HAVING h_name IS NOT NULL
            )AS B
      GROUP BY h_name
      WITH ROLLUP [ RunTime:0.0005s ]
SQL: SELECT SUM(s.num) AS nums, o.org_id, o.h_id, s.*, m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums DESC LIMIT 100 [ RunTime:0.0010s ]
SQL: SELECT SUM(total_money) AS money, h.org_id,h.h_name FROM cloud_hotel h INNER JOIN cloud_order o ON o.h_id = h.id  WHERE h.org_id = 2 GROUP BY o.h_id ORDER BY money DESC LIMIT 1 [ RunTime:0.0004s ]
SQL: SELECT COUNT(s.id) AS nums, o.org_id, o.h_id, s.* ,m.menu_name FROM cloud_order o INNER JOIN cloud_order_sub s ON s.oid = o.id INNER JOIN cloud_cook_menu m ON m.id=s.menu_id WHERE o.org_id = 2 Group by menu_id ORDER BY nums ASC LIMIT 1 [ RunTime:0.0009s ]
SQL: SELECT SUM(total_money) AS money, h.org_id,h.h_name FROM cloud_hotel h INNER JOIN cloud_order o ON o.h_id = h.id  WHERE h.org_id = 2 GROUP BY o.h_id ORDER BY money ASC LIMIT 1 [ RunTime:0.0003s ]
NOTIC: [2048] Declaration of Admin\Model\OrgModel::save() should be compatible with Think\Model::save($data = '', $options = Array) D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 79 行.
NOTIC: [2048] Declaration of Admin\Model\OrgModel::delete() should be compatible with Think\Model::delete($options = Array) D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 79 行.
SQL: SHOW COLUMNS FROM `cloud_org` [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0018s ]
SQL: SELECT * FROM `cloud_hotel` WHERE ( org_id=2 )  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `cloud_auth_group_access` [ RunTime:0.0017s ]
SQL: SELECT * FROM `cloud_auth_group_access` WHERE ( uid = 4 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: group_id  D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 65 行.
NOTIC: [8] Undefined index: h_id D:\xampp\htdocs\Cloud\App\Admin\Model\OrgModel.class.php 第 65 行.
NOTIC: [8] Undefined variable: data D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 66 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000128s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000168s ]
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 430 行.
NOTIC: [8] Use of undefined constant h_name - assumed 'h_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 438 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 560 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 561 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 562 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 563 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 564 行.
NOTIC: [8] Use of undefined constant menu_name - assumed 'menu_name' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 565 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 572 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 573 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 574 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 575 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 576 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 577 行.
NOTIC: [8] Use of undefined constant nums - assumed 'nums' D:\xampp\htdocs\Cloud\App\Runtime\Cache\Admin\742c860896b25e88c1c65c533911b85d.php 第 578 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017974s ]
INFO: [ view_parse ] --END-- [ RunTime:0.018006s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000373s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000407s ]

[ 2018-01-11T20:02:50+08:00 ] ::1 /cloud/index.php/Admin/Index/displayHotel.html?h_id=11
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000280s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000341s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000373s ]
NOTIC: [8] A session had already been started - ignoring session_start() D:\xampp\htdocs\Cloud\App\Admin\Controller\ComController.class.php 第 119 行.
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0022s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM cloud_auth_group g left join cloud_auth_group_access a on g.id=a.group_id where a.uid=4 [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_member` [ RunTime:0.0167s ]
SQL: SELECT * FROM `cloud_member` WHERE `uid` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT title FROM cloud_auth_group_access ga LEFT JOIN cloud_auth_group g ON ga.group_id=g.id where uid=4 [ RunTime:0.0002s ]
SQL: SELECT s.id,s.title,s.name,s.tips,s.pid,p.pid as ppid,p.title as ptitle FROM cloud_auth_rule s left join cloud_auth_rule p on p.id=s.pid where s.name='Index/displayHotel' [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `cloud_auth_rule` [ RunTime:0.0019s ]
SQL: SELECT `id`,`title`,`pid`,`name`,`icon` FROM `cloud_auth_rule` WHERE ( islink=1 AND id in (1,99,98,97,66,78,79,74,73,72,67,80,81,84,93,94,90,91,92,13,15,16,20,21,48,49,50,55)  ) ORDER BY o ASC  [ RunTime:0.0003s ]
NOTIC: [2] Missing argument 2 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [2] Missing argument 3 for Admin\Model\StatisModel::getDetailByHotel(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 105 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 160 行.
NOTIC: [8] Undefined variable: day D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 163 行.
NOTIC: [8] Undefined variable: month D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 169 行.
SQL: 
      SELECT cm.menu_name, cm.price price, IFNULL(temp.num,'0') num, IFNULL(price*num,'0') total 
      FROM( 
            SELECT cm.id,cm.menu_name,SUM(num) num
            FROM cloud_cook_menu cm
            LEFT JOIN cloud_order_sub os ON cm.id = os.menu_id
            LEFT JOIN cloud_order o ON o.id = os.oid
            WHERE o.h_id = 11 
            GROUP BY menu_name
          ) AS temp

      RIGHT JOIN cloud_cook_menu cm ON cm.id = temp.id

      WHERE cm.org_id = 2

      ORDER BY total DESC
     [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `cloud_hotel` [ RunTime:0.0022s ]
SQL: SELECT `h_name` FROM `cloud_hotel` WHERE ( id = 11 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [2] Missing argument 1 for Admin\Model\StatisModel::FirstFive(), called in D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php on line 112 and defined D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 332 行.
NOTIC: [8] Undefined variable: year D:\xampp\htdocs\Cloud\App\Admin\Model\StatisModel.class.php 第 334 行.
SQL: SELECT IFNULL(menu_name,'合计') AS menu_name, amount,
      SUM(IF(year='201701',count,0)) AS month01,
      SUM(IF(year='201702',count,0)) AS month02,
      SUM(IF(year='201703',count,0)) AS month03,
      SUM(IF(year='201704',count,0)) AS month04,
      SUM(IF(year='201705',count,0)) AS month05,
      SUM(IF(year='201706',count,0)) AS month06,
      SUM(IF(year='201707',count,0)) AS month07,
      SUM(IF(year='201708',count,0)) AS month08,
      SUM(IF(year='201709',count,0)) AS month09,
      SUM(IF(year='201710',count,0)) AS month10,
      SUM(IF(year='{November}',count,0)) AS month11,
      SUM(IF(year='201712',count,0)) AS month12,
      SUM(IF(year='total',count,0)) AS total,
      SUM(IF(year='total',count*amount,0)) AS sum
      FROM(
          SELECT menu_name,IFNULL(year,'total') AS year,SUM(count) AS count,  amount
          FROM(
          SELECT cm.menu_name, FROM_UNIXTIME(order_time,'%Y%m')as year, SUM(os.num) count, 
              os.price amount
              FROM cloud_order o
               JOIN cloud_order_sub os on oid = o.id
               JOIN cloud_cook_menu cm on cm.id = os.menu_id
               WHERE FROM_UNIXTIME(order_time,'%Y') = 2017
               GROUP BY year, menu_name)AS A
              GROUP BY menu_name,year
          WITH ROLLUP
          HAVING menu_name IS NOT NULL
            )AS B
      GROUP BY menu_name
      ORDER BY total DESC [ RunTime:0.0027s ]
NOTIC: [8] Undefined variable: hotelDaily D:\xampp\htdocs\Cloud\App\Admin\Controller\IndexController.class.php 第 121 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000111s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000151s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.019389s ]
INFO: [ view_parse ] --END-- [ RunTime:0.019436s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000316s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000342s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000453s ]
INFO: [ app_end ] --END-- [ RunTime:0.000486s ]

